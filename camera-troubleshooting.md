# üîß –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º —Å –∫–∞–º–µ—Ä–æ–π –∏ –º–∏–∫—Ä–æ—Ñ–æ–Ω–æ–º

## ‚ùå –û—à–∏–±–∫–∞: "Cannot read properties of undefined (reading 'getUserMedia')"

### –ü—Ä–∏—á–∏–Ω—ã:
1. **–°—Ç–∞—Ä—ã–π –±—Ä–∞—É–∑–µ—Ä** - –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç WebRTC
2. **–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç HTTPS** - getUserMedia —Ç—Ä–µ–±—É–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
3. **–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –±—Ä–∞—É–∑–µ—Ä–æ–º** - —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –∏–ª–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### –†–µ—à–µ–Ω–∏—è:

## üåê **1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±—Ä–∞—É–∑–µ—Ä**

### ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –±—Ä–∞—É–∑–µ—Ä—ã:
- **Chrome** 53+ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
- **Firefox** 36+
- **Safari** 11+
- **Edge** 79+

### ‚ùå –ù–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è:
- Internet Explorer
- –°—Ç–∞—Ä—ã–µ –≤–µ—Ä—Å–∏–∏ –±—Ä–∞—É–∑–µ—Ä–æ–≤

## üîí **2. HTTPS —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ**

### –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:
```bash
# –ó–∞–ø—É—Å–∫ —Å HTTPS (–ª–æ–∫–∞–ª—å–Ω–æ)
npm install -g http-server
http-server --ssl --cert ~/.localhost-ssl/localhost.crt --key ~/.localhost-ssl/localhost.key
```

### –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞:
```bash
# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSL –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
sudo certbot --nginx -d your-domain.com
```

## üõ†Ô∏è **3. –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±—Ä–∞—É–∑–µ—Ä–∞**

### Chrome:
1. –û—Ç–∫—Ä–æ–π—Ç–µ `chrome://settings/content/camera`
2. –†–∞–∑—Ä–µ—à–∏—Ç–µ –¥–æ—Å—Ç—É–ø –∫ –∫–∞–º–µ—Ä–µ –¥–ª—è –≤–∞—à–µ–≥–æ —Å–∞–π—Ç–∞
3. –û—Ç–∫—Ä–æ–π—Ç–µ `chrome://settings/content/microphone`
4. –†–∞–∑—Ä–µ—à–∏—Ç–µ –¥–æ—Å—Ç—É–ø –∫ –º–∏–∫—Ä–æ—Ñ–æ–Ω—É

### Firefox:
1. –û—Ç–∫—Ä–æ–π—Ç–µ `about:preferences#privacy`
2. –ü—Ä–æ–∫—Ä—É—Ç–∏—Ç–µ –¥–æ "–†–∞–∑—Ä–µ—à–µ–Ω–∏—è"
3. –ù–∞–∂–º–∏—Ç–µ "–ù–∞—Å—Ç—Ä–æ–π–∫–∏" —Ä—è–¥–æ–º —Å "–ö–∞–º–µ—Ä–∞" –∏ "–ú–∏–∫—Ä–æ—Ñ–æ–Ω"
4. –†–∞–∑—Ä–µ—à–∏—Ç–µ –¥–æ—Å—Ç—É–ø –¥–ª—è –≤–∞—à–µ–≥–æ —Å–∞–π—Ç–∞

### Safari:
1. Safari ‚Üí –ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí –í–µ–±-—Å–∞–π—Ç—ã
2. –í—ã–±–µ—Ä–∏—Ç–µ "–ö–∞–º–µ—Ä–∞" –∏ "–ú–∏–∫—Ä–æ—Ñ–æ–Ω"
3. –†–∞–∑—Ä–µ—à–∏—Ç–µ –¥–æ—Å—Ç—É–ø –¥–ª—è –≤–∞—à–µ–≥–æ —Å–∞–π—Ç–∞

## üîß **4. –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤**

### Windows:
```cmd
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–º–µ—Ä—ã
start ms-settings:camera

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–∏–∫—Ä–æ—Ñ–æ–Ω–∞
start ms-settings:sound
```

### macOS:
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–º–µ—Ä—ã
open /System/Library/PreferencePanes/Security.prefPane
```

### Linux:
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤
ls /dev/video*
ls /dev/audio*
```

## üö´ **5. –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è–º–∏**

### –û—Ç–∫–ª—é—á–∏—Ç–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è:
1. –û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä –≤ —Ä–µ–∂–∏–º–µ –∏–Ω–∫–æ–≥–Ω–∏—Ç–æ
2. –ò–ª–∏ –≤—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç–µ –≤—Å–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É –∑–≤–æ–Ω–∫–æ–≤

### –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –±–ª–æ–∫–∏—Ä–æ–≤—â–∏–∫–∏:
- uBlock Origin
- AdBlock Plus
- Privacy Badger
- Ghostery

## üì± **6. –ú–æ–±–∏–ª—å–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞**

### Android:
1. –ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è ‚Üí –í–∞—à –±—Ä–∞—É–∑–µ—Ä
2. –†–∞–∑—Ä–µ—à–µ–Ω–∏—è ‚Üí –ö–∞–º–µ—Ä–∞ –∏ –ú–∏–∫—Ä–æ—Ñ–æ–Ω

### iOS:
1. –ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí Safari ‚Üí –ö–∞–º–µ—Ä–∞ –∏ –ú–∏–∫—Ä–æ—Ñ–æ–Ω
2. –†–∞–∑—Ä–µ—à–∏—Ç–µ –¥–æ—Å—Ç—É–ø –¥–ª—è –≤–∞—à–µ–≥–æ —Å–∞–π—Ç–∞

## üîç **7. –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞**

### –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞:
```javascript
// –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏
console.log('mediaDevices:', !!navigator.mediaDevices);
console.log('getUserMedia:', !!navigator.mediaDevices?.getUserMedia);

// –¢–µ—Å—Ç –¥–æ—Å—Ç—É–ø–∞
navigator.mediaDevices.getUserMedia({video: true, audio: true})
  .then(stream => console.log('–£—Å–ø–µ—Ö:', stream))
  .catch(error => console.error('–û—à–∏–±–∫–∞:', error));
```

### –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞:
```javascript
// –°–ø–∏—Å–æ–∫ —É—Å—Ç—Ä–æ–π—Å—Ç–≤
navigator.mediaDevices.enumerateDevices()
  .then(devices => {
    devices.forEach(device => {
      console.log(device.kind, device.label);
    });
  });
```

## üÜò **8. –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è**

### –ï—Å–ª–∏ –∫–∞–º–µ—Ä–∞ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:
1. **–¢–æ–ª—å–∫–æ –∞—É–¥–∏–æ –∑–≤–æ–Ω–∫–∏** - –æ—Ç–∫–ª—é—á–∏—Ç–µ –≤–∏–¥–µ–æ
2. **–≠–º—É–ª—è—Ü–∏—è –∫–∞–º–µ—Ä—ã** - –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
3. **–î—Ä—É–≥–æ–π –±—Ä–∞—É–∑–µ—Ä** - –ø–æ–ø—Ä–æ–±—É–π—Ç–µ Chrome

### –ö–æ–¥ –¥–ª—è —Ç–æ–ª—å–∫–æ –∞—É–¥–∏–æ:
```javascript
// –¢–æ–ª—å–∫–æ –∞—É–¥–∏–æ –∑–≤–æ–Ω–æ–∫
this.localStream = await getUserMedia({
    video: false,
    audio: {
        echoCancellation: true,
        noiseSuppression: true
    }
});
```

## üìû **9. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**

### –ü—Ä–æ—Å—Ç–æ–π —Ç–µ—Å—Ç:
1. –û—Ç–∫—Ä–æ–π—Ç–µ `https://webrtc.github.io/samples/src/content/getusermedia/gum/`
2. –ù–∞–∂–º–∏—Ç–µ "Start"
3. –ï—Å–ª–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç - –ø—Ä–æ–±–ª–µ–º–∞ –≤ –≤–∞—à–µ–º –∫–æ–¥–µ
4. –ï—Å–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç - –ø—Ä–æ–±–ª–µ–º–∞ –≤ –±—Ä–∞—É–∑–µ—Ä–µ/—É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö

## üéØ **10. –ë—ã—Å—Ç—Ä—ã–µ —Ä–µ—à–µ–Ω–∏—è**

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:
```bash
# –ó–∞–ø—É—Å–∫ —Å —Ñ–ª–∞–≥–∞–º–∏ Chrome
chrome --unsafely-treat-insecure-origin-as-secure="http://localhost:3000"
```

### –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞:
```bash
# –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ HTTPS
# –ù–∞—Å—Ç—Ä–æ–π—Ç–µ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
# –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –±—Ä–∞—É–∑–µ—Ä
```

## üìã **–ß–µ–∫-–ª–∏—Å—Ç:**

- [ ] –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –±—Ä–∞—É–∑–µ—Ä (Chrome/Firefox/Safari)
- [ ] HTTPS —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ (–∏–ª–∏ localhost)
- [ ] –†–∞–∑—Ä–µ—à–µ–Ω –¥–æ—Å—Ç—É–ø –∫ –∫–∞–º–µ—Ä–µ/–º–∏–∫—Ä–æ—Ñ–æ–Ω—É
- [ ] –£—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω—ã –∏ —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] –ù–µ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è–º–∏
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω –≤ —Ä–µ–∂–∏–º–µ –∏–Ω–∫–æ–≥–Ω–∏—Ç–æ 